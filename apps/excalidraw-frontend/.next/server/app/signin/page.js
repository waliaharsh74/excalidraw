(()=>{var e={};e.id=281,e.ids=[281],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},6226:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1791:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>p,routeModule:()=>m,tree:()=>c});var r=s(94),n=s(6178),a=s(7480),i=s.n(a),o=s(2744),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["signin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1098)),"D:\\projects\\excalidraw\\apps\\excalidraw-frontend\\app\\signin\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3705))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1920)),"D:\\projects\\excalidraw\\apps\\excalidraw-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5018,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3705))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["D:\\projects\\excalidraw\\apps\\excalidraw-frontend\\app\\signin\\page.tsx"],d="/signin/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/signin/page",pathname:"/signin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8044:(e,t,s)=>{Promise.resolve().then(s.bind(s,9776))},9776:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(8769),n=s(8548),a=s(6937),i=s(3193),o=s(881),l=s(6666),c=s(6431),p=s(3787),d=s(1599),u=s(2066),m=s(244),h=s(8651);s(3927);var x=s(6345),f=s(729);function v(){let[e,t]=(0,n.useState)(""),[s,v]=(0,n.useState)(""),[g,N]=(0,n.useState)(!1),[E,y]=(0,n.useState)(!1),_=(0,n.useContext)(h.AuthContext);if(!_)return null;let{setLogin:w}=_,[b,D]=(0,n.useState)({}),j=(0,a.useRouter)(),O=async t=>{t.preventDefault();try{let t=o.wL.safeParse({email:e,password:s});if(t.error){D(t.error.flatten().fieldErrors);return}N(!0);let r=`${f.J}api/v1/sign-in`;console.log(r);let n=await x.Z.post(`${f.J}/api/v1/sign-in`,{email:e,password:s});(0,i.Am)(n.data?.msg),setTimeout(()=>{i.Am.success("Signed in successfully!"),N(!1)},1500),n.data?.token&&(localStorage.setItem("shapeSmithToken",n.data?.token),w(!0),j.push("/home"))}catch(e){console.log(e),(0,i.Am)("Oops Something went wrong!")}};return(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[r.jsx("div",{className:"w-full lg:w-1/2 flex flex-col p-6 md:p-12 justify-center animate-fade-in",children:(0,r.jsxs)("div",{className:"max-w-md w-full mx-auto",children:[(0,r.jsxs)("div",{className:"space-y-2 mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Welcome back"}),r.jsx("p",{className:"text-gray-500",children:"Sign in to your account to continue."})]}),r.jsx("form",{onSubmit:O,className:"space-y-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(m._,{htmlFor:"email",children:"Email address"}),r.jsx(u.I,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value),required:!0}),b&&b?.email&&r.jsx("div",{className:"",children:b?.email[0]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx(m._,{htmlFor:"password",children:"Password"})}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(u.I,{id:"password",name:"password",type:E?"text":"password",placeholder:"Enter your password",value:s,onChange:e=>v(e.target.value),required:!0,className:"pr-10"}),r.jsx("button",{type:"button",onClick:()=>y(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700","aria-label":E?"Hide password":"Show password",children:E?r.jsx(c.Z,{size:16}):r.jsx(p.Z,{size:16})}),b&&b?.password&&r.jsx("div",{className:"",children:b?.password[0]})]})]}),r.jsx(d.z,{type:"submit",className:"w-full",disabled:g,children:g?"Signing in...":"Sign in"})]})}),(0,r.jsxs)("div",{className:"mt-8 text-center text-sm",children:["Don't have an account?"," ",r.jsx(l.default,{href:"/signup",className:"font-medium text-primary hover:text-primary/80",children:"Sign up"})]})]})}),(0,r.jsxs)("div",{className:"hidden lg:block lg:w-1/2 relative bg-primary overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-mesh-pattern opacity-10"}),r.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center p-12 text-white",children:(0,r.jsxs)("div",{className:"max-w-md text-center",children:[(0,r.jsxs)("svg",{className:"w-32 h-32 mx-auto mb-8 text-white/90",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("g",{className:"animate-float",children:r.jsx("rect",{x:"20",y:"20",width:"30",height:"30",rx:"4",fill:"currentColor",fillOpacity:"0.7"})}),r.jsx("g",{className:"animate-float",style:{animationDelay:"1s"},children:r.jsx("circle",{cx:"65",cy:"65",r:"15",fill:"currentColor",fillOpacity:"0.7"})}),r.jsx("g",{className:"animate-float",style:{animationDelay:"0.5s"},children:r.jsx("path",{d:"M50 15L65 40L35 40L50 15Z",fill:"currentColor",fillOpacity:"0.7"})})]}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Welcome back to Shapesmith"}),r.jsx("p",{className:"text-white/80 mb-6",children:"Continue creating and collaborating on your visual projects with your team."}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 text-left",children:[r.jsx("blockquote",{className:"text-sm italic text-white/90 mb-3",children:'"Shapesmith has transformed how our team visualizes ideas. The collaborative features are incredibly intuitive."'}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 mr-3"}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs font-medium",children:"Sarah Johnson"}),r.jsx("div",{className:"text-xs text-white/60",children:"Product Designer at Acme Inc."})]})]})]})]})})]})]})}},3927:(e,t,s)=>{s(9319).config(Object.assign({},s(3365),s(7120)(process.argv)))},7120:e=>{let t=/^dotenv_config_(encoding|path|debug|override|DOTENV_KEY)=(.+)$/;e.exports=function(e){return e.reduce(function(e,s){let r=s.match(t);return r&&(e[r[1]]=r[2]),e},{})}},3365:e=>{let t={};null!=process.env.DOTENV_CONFIG_ENCODING&&(t.encoding=process.env.DOTENV_CONFIG_ENCODING),null!=process.env.DOTENV_CONFIG_PATH&&(t.path=process.env.DOTENV_CONFIG_PATH),null!=process.env.DOTENV_CONFIG_DEBUG&&(t.debug=process.env.DOTENV_CONFIG_DEBUG),null!=process.env.DOTENV_CONFIG_OVERRIDE&&(t.override=process.env.DOTENV_CONFIG_OVERRIDE),null!=process.env.DOTENV_CONFIG_DOTENV_KEY&&(t.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY),e.exports=t},9319:(e,t,s)=>{let r=s(7147),n=s(1017),a=s(2037),i=s(6113),o=s(226).version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function c(e){console.log(`[dotenv@${o}][DEBUG] ${e}`)}function p(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function d(e){let t=null;if(e&&e.path&&e.path.length>0){if(Array.isArray(e.path))for(let s of e.path)r.existsSync(s)&&(t=s.endsWith(".vault")?s:`${s}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`}else t=n.resolve(process.cwd(),".env.vault");return r.existsSync(t)?t:null}function u(e){return"~"===e[0]?n.join(a.homedir(),e.slice(1)):e}let m={configDotenv:function(e){let t;let s=n.resolve(process.cwd(),".env"),a="utf8",i=!!(e&&e.debug);e&&e.encoding?a=e.encoding:i&&c("No encoding is specified. UTF-8 is used by default");let o=[s];if(e&&e.path){if(Array.isArray(e.path))for(let t of(o=[],e.path))o.push(u(t));else o=[u(e.path)]}let l={};for(let s of o)try{let t=m.parse(r.readFileSync(s,{encoding:a}));m.populate(l,t,e)}catch(e){i&&c(`Failed to load ${s} ${e.message}`),t=e}let p=process.env;return(e&&null!=e.processEnv&&(p=e.processEnv),m.populate(p,l,e),t)?{parsed:l,error:t}:{parsed:l}},_configVault:function(e){console.log(`[dotenv@${o}][INFO] Loading env from encrypted .env.vault`);let t=m._parseVault(e),s=process.env;return e&&null!=e.processEnv&&(s=e.processEnv),m.populate(s,t,e),{parsed:t}},_parseVault:function(e){let t;let s=d(e),r=m.configDotenv({path:s});if(!r.parsed){let e=Error(`MISSING_DATA: Cannot parse ${s} for an unknown reason`);throw e.code="MISSING_DATA",e}let n=p(e).split(","),a=n.length;for(let e=0;e<a;e++)try{let s=n[e].trim(),a=function(e,t){let s;try{s=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){let e=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}let r=s.password;if(!r){let e=Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}let n=s.searchParams.get("environment");if(!n){let e=Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}let a=`DOTENV_VAULT_${n.toUpperCase()}`,i=e.parsed[a];if(!i){let e=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${a} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:i,key:r}}(r,s);t=m.decrypt(a.ciphertext,a.key);break}catch(t){if(e+1>=a)throw t}return m.parse(t)},config:function(e){if(0===p(e).length)return m.configDotenv(e);let t=d(e);if(!t){var s;return s=`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`,console.log(`[dotenv@${o}][WARN] ${s}`),m.configDotenv(e)}return m._configVault(e)},decrypt:function(e,t){let s=Buffer.from(t.slice(-64),"hex"),r=Buffer.from(e,"base64"),n=r.subarray(0,12),a=r.subarray(-16);r=r.subarray(12,-16);try{let e=i.createDecipheriv("aes-256-gcm",s,n);return e.setAuthTag(a),`${e.update(r)}${e.final()}`}catch(r){let e=r instanceof RangeError,t="Invalid key length"===r.message,s="Unsupported state or unable to authenticate data"===r.message;if(e||t){let e=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(s){let e=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw r}},parse:function(e){let t;let s={},r=e.toString();for(r=r.replace(/\r\n?/mg,"\n");null!=(t=l.exec(r));){let e=t[1],r=t[2]||"",n=(r=r.trim())[0];r=r.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===n&&(r=(r=r.replace(/\\n/g,"\n")).replace(/\\r/g,"\r")),s[e]=r}return s},populate:function(e,t,s={}){let r=!!(s&&s.debug),n=!!(s&&s.override);if("object"!=typeof t){let e=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(let s of Object.keys(t))Object.prototype.hasOwnProperty.call(e,s)?(!0===n&&(e[s]=t[s]),r&&(!0===n?c(`"${s}" is already defined and WAS overwritten`):c(`"${s}" is already defined and was NOT overwritten`))):e[s]=t[s]}};e.exports.configDotenv=m.configDotenv,e.exports._configVault=m._configVault,e.exports._parseVault=m._parseVault,e.exports.config=m.config,e.exports.decrypt=m.decrypt,e.exports.parse=m.parse,e.exports.populate=m.populate,e.exports=m},1098:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let r=(0,s(9257).createProxy)(String.raw`D:\projects\excalidraw\apps\excalidraw-frontend\app\signin\page.tsx`),{__esModule:n,$$typeof:a}=r,i=r.default},226:e=>{"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"16.4.7","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"types":"./lib/main.d.ts","require":"./lib/main.js","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","pretest":"npm run lint && npm run dts-check","test":"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"funding":"https://dotenvx.com","keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@types/node":"^18.11.3","decache":"^4.6.2","sinon":"^14.0.1","standard":"^17.0.0","standard-version":"^9.5.0","tap":"^19.2.0","typescript":"^4.8.4"},"engines":{"node":">=12"},"browser":{"fs":false}}')}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[707,641,572,345,468,785],()=>s(1791));module.exports=r})();