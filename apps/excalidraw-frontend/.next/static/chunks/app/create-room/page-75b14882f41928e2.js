(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{8233:function(e,t,r){Promise.resolve().then(r.bind(r,5592))},831:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(9324),n=r(8868),i=r(7139),a=r(7336),l=r(7566);let o=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:n,size:a,className:r})),ref:t,...d})});c.displayName="Button"},71:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var s=r(9324),n=r(8868),i=r(7566);let a=n.forwardRef((e,t)=>{let{className:r,type:n,...a}=e;return(0,s.jsx)("input",{type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});a.displayName="Input"},1295:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var s=r(9324),n=r(8868),i=r(2865),a=r(7336),l=r(7566);let o=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.f,{ref:t,className:(0,l.cn)(o(),r),...n})});c.displayName=i.f.displayName},710:function(e,t,r){"use strict";r.d(t,{J:function(){return s},M:function(){return n}});let s="http://localhost:3003",n="ws://localhost:8080"},3535:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthContext:function(){return a},AuthProvider:function(){return l}});var s=r(9324),n=r(8868),i=r(4218);let a=(0,n.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,n.useState)(!1),o=(0,i.useRouter)();return(0,n.useEffect)(()=>{localStorage.getItem("shapeSmithToken")&&l(!0)},[]),(0,s.jsx)(a.Provider,{value:{login:r,setLogin:l,handleLogOut:()=>{localStorage.removeItem("shapeSmithToken"),l(!1),o.push("/")}},children:t})}},5758:function(e,t,r){"use strict";r.d(t,{g:function(){return l}});var s=r(9324),n=r(8868),i=r(4218),a=r(3535);let l=e=>t=>{let r=(0,n.useContext)(a.AuthContext);if(!r)return null;let{login:l}=r,o=(0,i.useRouter)();return((0,n.useEffect)(()=>{l||o.push("/signin")},[l,o]),l)?(0,s.jsx)(e,{...t}):null}},5592:function(e,t,r){"use strict";r.r(t);var s=r(9324),n=r(8868),i=r(4218),a=r(1668),l=r(831),o=r(71),c=r(1295),d=r(6646),u=r(5758),m=r(4647),f=r(710);t.default=(0,u.g)(function(){let[e,t]=(0,n.useState)(""),[r,u]=(0,n.useState)(!1),[h,x]=(0,n.useState)({}),g=(0,i.useRouter)(),v=async t=>{t.preventDefault();let r=localStorage.getItem("shapeSmithToken");try{var s,n;let t=d.eQ.safeParse({slug:e});if(t.error){x(t.error.flatten().fieldErrors);return}u(!0);let i=await m.Z.post("".concat(f.J,"/api/v1/create-room"),{slug:e},{headers:{Authorization:"Bearer ".concat(r)}});setTimeout(()=>{u(!1)},1500),(null===(s=i.data)||void 0===s?void 0:s.roomId)&&g.push("/canvas/".concat(null===(n=i.data)||void 0===n?void 0:n.roomId))}catch(e){console.log(e),a.Am.error("Oops Something went wrong!")}};return(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"w-full lg:w-1/2 flex flex-col p-6 md:p-12 justify-center animate-fade-in",children:(0,s.jsxs)("div",{className:"max-w-md w-full mx-auto",children:[(0,s.jsxs)("div",{className:"space-y-2 mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Welcome! "}),(0,s.jsx)("p",{className:"text-gray-500",children:"Create and join room to draw. "})]}),(0,s.jsx)("form",{onSubmit:v,className:"space-y-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c._,{htmlFor:"email",children:"Room Slug"}),(0,s.jsx)(o.I,{type:"text",id:"slug",value:e,onChange:e=>t(e.target.value),placeholder:"Enter room slug",required:!0,className:"w-full px-3 py-2 border rounded bg-white bg-opacity-50 focus:bg-opacity-70 transition-all"}),h&&(null==h?void 0:h.slug)&&(0,s.jsx)("div",{className:"text-white",children:null==h?void 0:h.slug[0]})]}),(0,s.jsx)(l.z,{type:"submit",className:"w-full",disabled:r,children:r?"Joining...":"Create and Join room"})]})})]})}),(0,s.jsxs)("div",{className:"hidden lg:block lg:w-1/2 relative bg-primary overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-mesh-pattern opacity-10"}),(0,s.jsx)("div",{className:"absolute inset-0 flex flex-col justify-center items-center p-12 text-white",children:(0,s.jsxs)("div",{className:"max-w-md text-center",children:[(0,s.jsxs)("svg",{className:"w-32 h-32 mx-auto mb-8 text-white/90",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("g",{className:"animate-float",children:(0,s.jsx)("rect",{x:"20",y:"20",width:"30",height:"30",rx:"4",fill:"currentColor",fillOpacity:"0.7"})}),(0,s.jsx)("g",{className:"animate-float",style:{animationDelay:"1s"},children:(0,s.jsx)("circle",{cx:"65",cy:"65",r:"15",fill:"currentColor",fillOpacity:"0.7"})}),(0,s.jsx)("g",{className:"animate-float",style:{animationDelay:"0.5s"},children:(0,s.jsx)("path",{d:"M50 15L65 40L35 40L50 15Z",fill:"currentColor",fillOpacity:"0.7"})})]}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Welcome back to Shapesmith"}),(0,s.jsx)("p",{className:"text-white/80 mb-6",children:"Continue creating and collaborating on your visual projects with your team."}),(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 text-left",children:[(0,s.jsx)("blockquote",{className:"text-sm italic text-white/90 mb-3",children:'"Shapesmith has transformed how our team visualizes ideas. The collaborative features are incredibly intuitive."'}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-medium",children:"Sarah Johnson"}),(0,s.jsx)("div",{className:"text-xs text-white/60",children:"Product Designer at Acme Inc."})]})]})]})]})})]}),(0,s.jsx)(a.Ix,{})]})})},7566:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(6512),n=r(3525);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},6646:function(e,t,r){"use strict";t.eQ=t.wL=t.JJ=void 0;let s=r(9038);t.JJ=s.z.object({firstName:s.z.string().min(3),lastName:s.z.string().min(3),email:s.z.string().email(),password:s.z.string().min(6).max(10)}),t.wL=s.z.object({email:s.z.string().email(),password:s.z.string().min(6).max(10)}),t.eQ=s.z.object({slug:s.z.string().min(3).max(10)})}},function(e){e.O(0,[633,647,601,806,767,744],function(){return e(e.s=8233)}),_N_E=e.O()}]);